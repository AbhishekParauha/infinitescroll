[{"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\index.js":"1","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\App.js":"2","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\services\\imagesServices.js":"3","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Searchbar\\index.js":"4","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\ImageGallery\\index.js":"5","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Button\\index.js":"6","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Loader\\index.js":"7","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\ImageGallery\\ImageGallery.jsx":"8","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Button\\Button.jsx":"9","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Loader\\Loader.jsx":"10","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Searchbar\\Searchbar.jsx":"11","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\ImageGalleryItem\\index.js":"12","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\ImageGalleryItem\\ImageGalleryItem.jsx":"13","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Modal\\index.js":"14","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Modal\\Modal.jsx":"15"},{"size":220,"mtime":1608747293000,"results":"16","hashOfConfig":"17"},{"size":4015,"mtime":1695324497251,"results":"18","hashOfConfig":"17"},{"size":503,"mtime":1695317042374,"results":"19","hashOfConfig":"17"},{"size":43,"mtime":1608747293000,"results":"20","hashOfConfig":"17"},{"size":46,"mtime":1608747293000,"results":"21","hashOfConfig":"17"},{"size":40,"mtime":1608747293000,"results":"22","hashOfConfig":"17"},{"size":40,"mtime":1608747293000,"results":"23","hashOfConfig":"17"},{"size":539,"mtime":1608747293000,"results":"24","hashOfConfig":"17"},{"size":311,"mtime":1608747293000,"results":"25","hashOfConfig":"17"},{"size":288,"mtime":1608747293000,"results":"26","hashOfConfig":"17"},{"size":1218,"mtime":1608747293000,"results":"27","hashOfConfig":"17"},{"size":50,"mtime":1608747293000,"results":"28","hashOfConfig":"17"},{"size":793,"mtime":1608747293000,"results":"29","hashOfConfig":"17"},{"size":39,"mtime":1608747293000,"results":"30","hashOfConfig":"17"},{"size":1145,"mtime":1608747293000,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1v7ucma",{"filePath":"35","messages":"36","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"34"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\index.js",[],["64","65"],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\App.js",["66","67","68"],"import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport fetchImagesAPI from './services/imagesServices';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\n\nfunction App() {\n  const [imageName, setImageName] = useState('');\n  const [images, setImages] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetchImages();\n  }, [imageName, currentPage]);\n\n  function onChangeQuery(imageName) {\n    setImageName(imageName);\n    setCurrentPage(1);\n    setImages([]);\n    setError(null);\n  }\n\n  function fetchImages() {\n    if (imageName === '') {\n      return;\n    }\n\n    setIsLoading(true);\n\n    fetchImagesAPI({ imageName, currentPage })\n      .then(newImages => {\n        setImages(images => [...images, ...newImages]);\n        // scrollPage();\n      })\n      .catch(error => setError(error))\n      .finally(() => setIsLoading(false));\n  }\n\n  const onLoadMoreBtnClick = () => {\n    setCurrentPage(prevState => prevState + 1);\n    // scrollPage();\n  };\n\n  // const scrollPage = () => {\n  //   window.scrollTo({\n  //     top: document.documentElement.scrollHeight,\n  //     behavior: 'smooth',\n  //   });\n  // };\n\n\n  const handleScroll = () => {\n    if (\n      window.innerHeight + document.documentElement.scrollTop !==\n      document.documentElement.offsetHeight\n    )\n      return;\n      onLoadMoreBtnClick();\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    // return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return (\n    <div onscroll={handleScroll}>\n\n      {error && <p>Whoops, something went wrong: {error.message}</p>}\n      <Searchbar onSubmit={onChangeQuery} />\n      <ImageGallery images={images} />\n      {isLoading && <Loader />}\n      \n\n      {/* {!isLoading && images.length >= 10 && !error && (\n        <Button onClick={onLoadMoreBtnClick} />\n      )} */}\n\n      <ToastContainer autoClose={3000} />\n      \n    </div>\n  );\n}\nexport default App;\n\n// class App extends Component {\n//   state = {\n//     imageName: '',\n//     images: [],\n//     currentPage: 1,\n//     isLoading: false,\n//     error: null,\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     if (prevState.imageName !== this.state.imageName) {\n//       this.fetchImages();\n//     }\n//   }\n\n//   onChangeQuery = imageName => {\n//     this.setState({\n//       imageName,\n//       currentPage: 1,\n//       images: [],\n//       error: null,\n//     });\n//   };\n\n//   fetchImages = () => {\n//     const { imageName, currentPage } = this.state;\n//     const options = { imageName, currentPage };\n\n//     this.setState({ isLoading: true });\n\n//     fetchImagesAPI(options)\n//       .then(images => {\n//         this.setState(prevState => ({\n//           images: [...prevState.images, ...images],\n//           currentPage: prevState.currentPage + 1,\n//         }));\n//         window.scrollTo({\n//           top: document.documentElement.scrollHeight,\n//           behavior: 'smooth',\n//         });\n//       })\n//       .catch(error => this.setState({ error }))\n//       .finally(() => this.setState({ isLoading: false }));\n//   };\n\n//   render() {\n//     const { images, isLoading, error } = this.state;\n//     const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n//     return (\n//       <>\n//         {error && <p>Whoops, something went wrong: {error.message}</p>}\n\n//         <Searchbar onSubmit={this.onChangeQuery} />\n\n//         <ImageGallery images={this.state.images} />\n\n//         {isLoading && <Loader />}\n\n//         {shouldRenderLoadMoreButton && (\n//           <Button fetchImages={this.fetchImages} />\n//         )}\n\n//         <ToastContainer autoClose={3000} />\n//       </>\n//     );\n//   }\n// }\n// export default App;\n","D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\services\\imagesServices.js",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Searchbar\\index.js",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\ImageGallery\\index.js",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Button\\index.js",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Loader\\index.js",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\ImageGallery\\ImageGallery.jsx",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Button\\Button.jsx",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Loader\\Loader.jsx",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Searchbar\\Searchbar.jsx",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\ImageGalleryItem\\index.js",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\ImageGalleryItem\\ImageGalleryItem.jsx",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Modal\\index.js",[],"D:\\infinite scroll demos\\goit-react-hw-04-hooks-images-main\\src\\components\\Modal\\Modal.jsx",[],{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","severity":1,"message":"74","line":7,"column":8,"nodeType":"75","messageId":"76","endLine":7,"endColumn":14},{"ruleId":"77","severity":1,"message":"78","line":19,"column":6,"nodeType":"79","endLine":19,"endColumn":30,"suggestions":"80"},{"ruleId":"77","severity":1,"message":"81","line":69,"column":6,"nodeType":"79","endLine":69,"endColumn":8,"suggestions":"82"},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchImages'. Either include it or remove the dependency array.","ArrayExpression",["85"],"React Hook useEffect has a missing dependency: 'handleScroll'. Either include it or remove the dependency array.",["86"],"no-global-assign","no-unsafe-negation",{"desc":"87","fix":"88"},{"desc":"89","fix":"90"},"Update the dependencies array to be: [imageName, currentPage, fetchImages]",{"range":"91","text":"92"},"Update the dependencies array to be: [handleScroll]",{"range":"93","text":"94"},[644,668],"[imageName, currentPage, fetchImages]",[1784,1786],"[handleScroll]"]